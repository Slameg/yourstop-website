<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>YOUR STOP - –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Å–µ—Ä–≤–µ—Ä –≤—ã–∂–∏–≤–∞–Ω–∏—è Minecraft | yourstop.online</title>
    <meta name="description" content="YOUR STOP - –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Å–µ—Ä–≤–µ—Ä –≤—ã–∂–∏–≤–∞–Ω–∏—è Minecraft. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞, –∫–æ–º–∞–Ω–¥—ã, –∫–∞–∫ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è." />
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>‚õèÔ∏è</text></svg>">
    <style>
        :root{
            --primary:#4CAF50; --primary-dark:#3d8b40; --dark:#0d1b2a; --dark-light:#1a2a3a; --light:#f0f0f0; --accent:#FF9800;
        }
        *{box-sizing:border-box;margin:0;padding:0;font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;}
        body{background:linear-gradient(135deg,var(--dark-light) 0%,var(--dark) 100%);color:var(--light);line-height:1.6;overflow-x:hidden;}
        .container{max-width:1200px;margin:0 auto;padding:0 20px;}
        header{background:rgba(13,27,42,0.95);padding:15px 0;position:fixed;top:0;width:100%;z-index:1000;backdrop-filter: blur(5px);box-shadow:0 4px 12px rgba(0,0,0,0.3)}
        .header-content{display:flex;align-items:center;justify-content:space-between}
        .logo{display:flex;align-items:center}
        .logo-icon{font-size:28px;color:var(--primary)}
        .logo h1{margin-left:8px;font-size:20px;color:var(--primary)}
        nav ul{display:flex;gap:12px;list-style:none}
        nav a{color:var(--light);text-decoration:none;padding:6px 10px;border-radius:6px;font-weight:500}
        nav a:hover{color:var(--primary)}
        .mobile-menu{display:none}
        .hero{height:88vh;display:flex;align-items:center;justify-content:center;text-align:center;padding-top:70px;background:linear-gradient(rgba(13,27,42,0.7),rgba(13,27,42,0.9));}
        .hero h2{font-size:40px;margin-bottom:12px;color:var(--primary)}
        .hero p{font-size:18px;opacity:0.9;max-width:700px;margin:0 auto 20px}
        .ip-container{display:flex;justify-content:center;align-items:stretch;max-width:420px;margin:20px auto;position:relative}
        .ip-address{background:rgba(76,175,80,0.15);border:2px solid var(--primary);border-right:none;border-radius:8px 0 0 8px;padding:14px 18px;font-weight:700}
        .copy-button{background:var(--primary);color:#fff;border:2px solid var(--primary);border-radius:0 8px 8px 0;padding:0 18px;cursor:pointer}
        .copy-notification{position:absolute;bottom:-45px;left:50%;transform:translateX(-50%);background:var(--primary);padding:8px 14px;border-radius:8px;opacity:0;transition:all .3s}
        .copy-notification.show{opacity:1;bottom:-50px}
        .cta-button{background:var(--primary);color:#fff;padding:12px 32px;border-radius:50px;text-decoration:none;font-weight:700;display:inline-block;margin-top:12px}
        .features{padding:80px 0;background:var(--dark-light)}
        .section-title{text-align:center;margin-bottom:40px}
        .section-title h2{color:var(--primary)}
        .features-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:18px}
        .feature-card{background:rgba(13,27,42,0.7);padding:20px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);text-align:center}
        .server-info{padding:60px 0}
        .info-container{display:grid;grid-template-columns:1fr 1fr;gap:30px;align-items:center}
        .stat{background:rgba(13,27,42,0.7);padding:18px;border-radius:10px;text-align:center}
        .stat-number{font-size:28px;color:var(--primary);font-weight:700}
        .live-data{padding:60px 0;background:var(--dark-light)}
        .live-stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:16px;margin-top:20px}
        .live-stat{background:rgba(13,27,42,0.75);padding:16px;border-radius:10px;text-align:center;border:1px solid rgba(76,175,80,0.06)}
        .live-stat h3{color:var(--primary);margin-bottom:8px}
        .live-stat-value{font-weight:700;font-size:22px}
        .last-updated{text-align:center;margin-top:12px;opacity:0.8}
        .refresh-btn{background:var(--primary);color:#fff;border:none;border-radius:8px;padding:8px 12px;cursor:pointer;margin-left:8px}
        /* Commands */
        .commands{padding:60px 0}
        .commands-controls{display:flex;gap:12px;align-items:center;justify-content:center;margin-bottom:16px;flex-wrap:wrap}
        .new-cat-form{display:flex;gap:8px;align-items:center;flex-wrap:wrap;justify-content:center}
        .new-cat-form input,.new-cat-form textarea{padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:rgba(0,0,0,0.2);color:var(--light)}
        .new-cat-form textarea{min-width:280px;min-height:60px;resize:vertical}
        .btn{background:var(--primary);color:#fff;padding:8px 12px;border-radius:8px;border:none;cursor:pointer;font-weight:700}
        .commands-container{position:relative;overflow:hidden;margin:0 auto;max-width:1060px}
        .commands-slider{display:flex;transition:transform .45s cubic-bezier(.2,.9,.2,1);padding:6px}
        .command-category{background:rgba(13,27,42,0.7);border-radius:10px;padding:18px;border:1px solid rgba(76,175,80,0.06);width:340px;flex-shrink:0;margin:0 8px;box-shadow:0 4px 10px rgba(0,0,0,0.3)}
        .command-category h3{color:var(--primary);margin-bottom:10px;display:flex;justify-content:space-between;align-items:center}
        .command-item{border-bottom:1px solid rgba(255,255,255,0.04);padding:8px 0}
        .command{font-weight:700;color:var(--accent)}
        .command-desc{font-size:13px;opacity:0.85}
        .slider-btn{position:absolute;top:50%;transform:translateY(-50%);background:rgba(13,27,42,0.9);border:2px solid var(--primary);color:var(--primary);width:48px;height:48px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:10}
        #prev-btn{left:-60px}
        #next-btn{right:-60px}
        .slider-btn:hover{background:var(--primary);color:#fff}
        .slider-btn:disabled{opacity:.3;cursor:not-allowed;background:rgba(13,27,42,0.9);color:var(--primary)}
        .how-to-join{padding:60px 0;background:var(--dark-light)}
        .steps{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:14px}
        .step{background:rgba(13,27,42,0.7);padding:16px;border-radius:10px;text-align:center}
        .community{padding:40px 0;text-align:center}
        footer{background:var(--dark);padding:40px 0;margin-top:20px}
        .footer-content{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px}
        @media(max-width:900px){nav ul{display:none}.mobile-menu{display:block}.hero h2{font-size:28px}.command-category{width:280px}.commands-container{max-width:320px}#prev-btn{left:-40px}#next-btn{right:-40px}}
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo"><div class="logo-icon">‚õèÔ∏è</div><h1>YOUR STOP</h1></div>
                <nav>
                    <ul>
                        <li><a href="#home">–ì–ª–∞–≤–Ω–∞—è</a></li>
                        <li><a href="#features">–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏</a></li>
                        <li><a href="#info">–û —Å–µ—Ä–≤–µ—Ä–µ</a></li>
                        <li><a href="#commands">–ö–æ–º–∞–Ω–¥—ã</a></li>
                        <li><a href="#live">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a></li>
                        <li><a href="#join">–ö–∞–∫ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</a></li>
                        <li><a href="#community">–°–æ–æ–±—â–µ—Å—Ç–≤–æ</a></li>
                    </ul>
                </nav>
                <button class="mobile-menu" aria-label="menu">‚ò∞</button>
            </div>
        </div>
    </header>

    <!-- Hero -->
    <section class="hero" id="home">
        <div class="container">
            <div class="hero-content">
                <h2>–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –≤—ã–∂–∏–≤–∞–Ω–∏–µ –≤ Minecraft</h2>
                <p>YOUR STOP ‚Äî —Å–µ—Ä–≤–µ—Ä —Å –∑–∞—â–∏—Ç–æ–π –ø–æ—Å—Ç—Ä–æ–µ–∫ –∏ –¥—Ä—É–∂–Ω—ã–º —Å–æ–æ–±—â–µ—Å—Ç–≤–æ–º. IP: yourstop.online</p>
                <div class="ip-container">
                    <div class="ip-address" id="ip-main">yourstop.online</div>
                    <button class="copy-button" id="copy-button-main">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å IP</button>
                    <div class="copy-notification" id="copy-notif-main">IP —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä!</div>
                </div>
                <a class="cta-button" href="#join">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è —Å–µ–π—á–∞—Å</a>
            </div>
        </div>
    </section>

    <!-- Features -->
    <section class="features" id="features">
        <div class="container">
            <div class="section-title">
                <h2>–ü–æ—á–µ–º—É –Ω–∞—à —Å–µ—Ä–≤–µ—Ä?</h2>
                <p>–í–∞–Ω–∏–ª—å–Ω—ã–π –≥–µ–π–º–ø–ª–µ–π, –∑–∞—â–∏—Ç–∞ –ø–æ—Å—Ç—Ä–æ–µ–∫ –∏ –∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ.</p>
            </div>
            <div class="features-grid">
                <div class="feature-card"><div style="font-size:28px;margin-bottom:10px">üõ°Ô∏è</div><h3>–ó–∞—â–∏—Ç–∞ –ø–æ—Å—Ç—Ä–æ–µ–∫</h3><p>–ë–ª–æ—á–Ω–∞—è –∑–∞—â–∏—Ç–∞ —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –¥–æ—Å—Ç—É–ø–æ–º</p></div>
                <div class="feature-card"><div style="font-size:28px;margin-bottom:10px">üë•</div><h3>–°–æ–æ–±—â–µ—Å—Ç–≤–æ</h3><p>–ü–æ–º–æ–≥–∞–µ–º –Ω–æ–≤–∏—á–∫–∞–º –∏ —É—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∏–≤–µ–Ω—Ç—ã</p></div>
                <div class="feature-card"><div style="font-size:28px;margin-bottom:10px">‚öîÔ∏è</div><h3>–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π PvP</h3><p>–ß–µ—Å—Ç–Ω—ã–µ —Å—Ä–∞–∂–µ–Ω–∏—è –∏ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è</p></div>
            </div>
        </div>
    </section>

    <!-- Server Info -->
    <section class="server-info" id="info">
        <div class="container">
            <div class="info-container">
                <div>
                    <div class="stat"><div class="stat-number">24/7</div><div>–†–∞–±–æ—Ç–∞ —Å–µ—Ä–≤–µ—Ä–∞</div></div>
                    <div style="height:12px"></div>
                    <div class="stat"><div class="stat-number">1.19+</div><div>–í–µ—Ä—Å–∏—è</div></div>
                </div>
                <div>
                    <h2 style="color:var(--primary)">–û —Å–µ—Ä–≤–µ—Ä–µ YOUR STOP</h2>
                    <p style="opacity:.9">–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Å–µ—Ä–≤–µ—Ä –≤—ã–∂–∏–≤–∞–Ω–∏—è —Å –∑–∞—â–∏—Ç–æ–π –ø–æ—Å—Ç—Ä–æ–µ–∫ –∏ –∞–∫—Ç–∏–≤–Ω—ã–º —Å–æ–æ–±—â–µ—Å—Ç–≤–æ–º.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Commands -->
    <section class="commands" id="commands">
        <div class="container">
            <div class="section-title"><h2>–ö–æ–º–∞–Ω–¥—ã —Å–µ—Ä–≤–µ—Ä–∞</h2><p>–í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–π –∏–≥—Ä—ã</p></div>

            <div class="commands-controls">
                <form class="new-cat-form" id="new-cat-form" onsubmit="return false;">
                    <input id="cat-title" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–ø—Ä–∏–º–µ—Ä: üî® –ó–∞—â–∏—Ç–∞)" />
                    <textarea id="cat-commands" placeholder="–ö–æ–º–∞–Ω–¥—ã ‚Äî –ø–æ –æ–¥–Ω–æ–π –≤ —Å—Ç—Ä–æ–∫—É. –§–æ—Ä–º–∞—Ç: /–∫–æ–º–∞–Ω–¥–∞ - –æ–ø–∏—Å–∞–Ω–∏–µ (–∏–ª–∏ /–∫–æ–º–∞–Ω–¥–∞|–æ–ø–∏—Å–∞–Ω–∏–µ)"></textarea>
                    <button class="btn" id="add-cat-btn">–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</button>
                </form>
            </div>

            <div class="commands-container">
                <button class="slider-btn" id="prev-btn" aria-label="prev">‚Äπ</button>
                <div class="commands-slider" id="commands-slider">
                    <!-- –∫–∞—Ä—Ç–æ—á–∫–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è —Å–∫—Ä–∏–ø—Ç–æ–º -->
                </div>
                <button class="slider-btn" id="next-btn" aria-label="next">‚Ä∫</button>
            </div>
        </div>
    </section>

    <!-- Live Data -->
    <section class="live-data" id="live">
        <div class="container">
            <div class="section-title"><h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</h2><p>–ê–∫—Ç—É–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞</p></div>
            <div class="live-stats">
                <div class="live-stat"><h3>–û–Ω–ª–∞–π–Ω –∏–≥—Ä–æ–∫–æ–≤</h3><div class="live-stat-value" id="online-players"><span class="loading">–ó–∞–≥—Ä—É–∑–∫–∞...</span></div></div>
                <div class="live-stat"><h3>–ú–∞–∫—Å–∏–º—É–º –æ–Ω–ª–∞–π–Ω</h3><div class="live-stat-value" id="max-players"><span class="loading">–ó–∞–≥—Ä—É–∑–∫–∞...</span></div></div>
                <div class="live-stat"><h3>–í–µ—Ä—Å–∏—è</h3><div class="live-stat-value" id="server-version"><span class="loading">–ó–∞–≥—Ä—É–∑–∫–∞...</span></div></div>
                <div class="live-stat"><h3>–°—Ç–∞—Ç—É—Å</h3><div class="live-stat-value" id="server-status"><span class="loading">–ó–∞–≥—Ä—É–∑–∫–∞...</span></div></div>
            </div>
            <div class="last-updated" id="last-updated">–û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è... <button class="refresh-btn" id="refresh-btn">–û–±–Ω–æ–≤–∏—Ç—å</button></div>
        </div>
    </section>

    <!-- How to join -->
    <section class="how-to-join" id="join">
        <div class="container">
            <div class="section-title"><h2>–ö–∞–∫ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</h2><p>–ù–µ—Å–∫–æ–ª—å–∫–æ —à–∞–≥–æ–≤ –∏ –≤—ã –≤ –∏–≥—Ä–µ</p></div>
            <div class="steps">
                <div class="step"><div style="font-weight:700">1</div><h3>–ó–∞–ø—É—Å—Ç–∏—Ç–µ Minecraft</h3><p>–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–µ—Ä—Å–∏—è 1.19+</p></div>
                <div class="step"><div style="font-weight:700">2</div><h3>–î–æ–±–∞–≤—å—Ç–µ —Å–µ—Ä–≤–µ—Ä</h3><p>–ê–¥—Ä–µ—Å: yourstop.online</p></div>
                <div class="step"><div style="font-weight:700">3</div><h3>–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å</h3><p>–ù–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å!</p></div>
            </div>
        </div>
    </section>

    <!-- Community -->
    <section class="community" id="community">
        <div class="container">
            <h2>–ù–∞—à–∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞</h2>
            <p>–ü–æ–¥–ø–∏—Å—ã–≤–∞–π—Ç–µ—Å—å –Ω–∞ –Ω–æ–≤–æ—Å—Ç–∏ –≤ Telegram</p>
            <a class="btn" href="https://t.me/yourstopmine" target="_blank">–ù–∞—à Telegram</a>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div><h3 style="color:var(--primary)">YOUR STOP</h3><p style="opacity:.9">–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Å–µ—Ä–≤–µ—Ä –≤—ã–∂–∏–≤–∞–Ω–∏—è. IP: yourstop.online</p></div>
                <div><h3 style="color:var(--primary)">–°—Å—ã–ª–∫–∏</h3><a href="#home">–ì–ª–∞–≤–Ω–∞—è</a> <br /><a href="#commands">–ö–æ–º–∞–Ω–¥—ã</a></div>
                <div><h3 style="color:var(--primary)">–°–æ–æ–±—â–µ—Å—Ç–≤–æ</h3><a href="https://t.me/yourstopmine" target="_blank">Telegram</a></div>
            </div>
            <div style="text-align:center;margin-top:14px;opacity:.8">&copy; YOUR STOP</div>
        </div>
    </footer>

    <!-- Script -->
    <script>
    (function(){
        /* ====== –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ====== */
        const SERVER_ADDRESS = "yourstop.online";
        const REFRESH_INTERVAL = 60 * 1000; // 1 –º–∏–Ω—É—Ç–∞
        const STORAGE_KEY = "ys_commands_v1";

        /* ====== UI —ç–ª–µ–º–µ–Ω—Ç—ã ====== */
        const sliderEl = document.getElementById('commands-slider');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const addCatBtn = document.getElementById('add-cat-btn');
        const catTitleInput = document.getElementById('cat-title');
        const catCommandsInput = document.getElementById('cat-commands');

        /* ====== –ü—Ä–µ–ª–æ–∞–¥ –¥–µ—Ñ–æ–ª—Ç–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ ====== */
        const defaultCommands = [
            {
                title: "üî® –ó–∞—â–∏—Ç–∞ –ø–æ—Å—Ç—Ä–æ–µ–∫",
                commands: [
                    { command: "/build", desc: "–†–µ–∂–∏–º —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞. –í—Å–µ –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ –±–ª–æ–∫–∏ –∑–∞—â–∏—â–µ–Ω—ã" },
                    { command: "/repair", desc: "–†–µ–∂–∏–º —Ä–µ–º–æ–Ω—Ç–∞. –ü–ö–ú –ø–æ –±–ª–æ–∫—É –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç HP" },
                    { command: "/remove", desc: "–°–Ω—è—Ç—å –∑–∞—â–∏—Ç—É —Å –±–ª–æ–∫–∞" },
                    { command: "/yshelp", desc: "–ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –∏–≥—Ä–æ–≤—ã—Ö –∫–æ–º–∞–Ω–¥" }
                ]
            },
            {
                title: "üîê –ü–∞—Ä–æ–ª–∏ –∏ –¥–æ—Å—Ç—É–ø",
                commands: [
                    { command: "/password set <–∫–æ–¥>", desc: "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–æ–ª—å" },
                    { command: "/password enter <–∫–æ–¥>", desc: "–í–≤–µ—Å—Ç–∏ –ø–∞—Ä–æ–ª—å" },
                    { command: "/lock <–ø–∞—Ä–æ–ª—å>", desc: "–ó–∞—â–∏—Ç–∏—Ç—å –¥–≤–µ—Ä—å" }
                ]
            },
            {
                title: "ü§ù –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã",
                commands: [
                    { command: "/friend add <–Ω–∏–∫>", desc: "–î–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∞" },
                    { command: "/friend list", desc: "–ü–æ–∫–∞–∑–∞—Ç—å –¥—Ä—É–∑–µ–π" },
                    { command: "/tpa <–Ω–∏–∫>", desc: "–ó–∞–ø—Ä–æ—Å —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞" }
                ]
            }
        ];

        /* ====== –ó–∞–≥—Ä—É–∑–∫–∞/—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ ====== */
        function loadCommands(){
            try{
                const raw = localStorage.getItem(STORAGE_KEY);
                if(!raw) return defaultCommands.slice();
                const parsed = JSON.parse(raw);
                if(!Array.isArray(parsed) || parsed.length===0) return defaultCommands.slice();
                return parsed;
            }catch(e){
                console.warn("–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è localStorage, –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–µ—Ñ–æ–ª—Ç", e);
                return defaultCommands.slice();
            }
        }
        function saveCommands(data){
            try{
                localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
            }catch(e){
                console.error("–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è localStorage", e);
            }
        }

        /* ====== –°–ª–∞–π–¥–µ—Ä ====== */
        let commandsData = loadCommands();
        let currentIndex = 0;

        function createCard(category, idx){
            const card = document.createElement('div');
            card.className = 'command-category';
            const h3 = document.createElement('h3');
            const spanTitle = document.createElement('span');
            spanTitle.textContent = category.title || '–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è';
            h3.appendChild(spanTitle);

            // delete button
            const delBtn = document.createElement('button');
            delBtn.textContent = '–£–¥–∞–ª–∏—Ç—å';
            delBtn.style.background = 'transparent';
            delBtn.style.border = 'none';
            delBtn.style.color = 'rgba(255,255,255,0.7)';
            delBtn.style.cursor = 'pointer';
            delBtn.style.fontWeight = '700';
            delBtn.addEventListener('click', () => {
                if(confirm('–£–¥–∞–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é "' + category.title + '"?')) {
                    commandsData.splice(idx,1);
                    saveCommands(commandsData);
                    renderSlider(Math.max(0, currentIndex - 1));
                }
            });
            h3.appendChild(delBtn);
            card.appendChild(h3);

            (category.commands || []).forEach(cmd => {
                const item = document.createElement('div');
                item.className = 'command-item';
                const c = document.createElement('div');
                c.className = 'command';
                c.textContent = cmd.command;
                const d = document.createElement('div');
                d.className = 'command-desc';
                d.textContent = cmd.desc;
                item.appendChild(c);
                item.appendChild(d);
                card.appendChild(item);
            });

            return card;
        }

        function renderSlider(newIndex = 0){
            sliderEl.innerHTML = '';
            commandsData.forEach((cat, i) => sliderEl.appendChild(createCard(cat,i)));
            currentIndex = Math.min(Math.max(0, newIndex), Math.max(0, commandsData.length - 1));
            updateSlider();
        }

        function updateSlider(){
            const cardWidth = getCardWidth(); // including gap
            const translateX = -currentIndex * cardWidth;
            sliderEl.style.transform = `translateX(${translateX}px)`;
            prevBtn.disabled = currentIndex === 0;
            nextBtn.disabled = currentIndex >= commandsData.length - 1;
        }

        function getCardWidth(){
            // width + right margin (approx). we use actual computed width of first child if exists
            const first = sliderEl.querySelector('.command-category');
            if(first){
                const style = getComputedStyle(first);
                const w = first.getBoundingClientRect().width;
                const mr = parseFloat(style.marginRight || 8);
                return w + mr;
            }
            return 360; // fallback
        }

        prevBtn.addEventListener('click', () => {
            if(currentIndex>0){ currentIndex--; updateSlider(); }
        });
        nextBtn.addEventListener('click', () => {
            if(currentIndex < commandsData.length - 1){ currentIndex++; updateSlider(); }
        });

        /* ====== –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ ====== */
        addCatBtn.addEventListener('click', () => {
            const title = (catTitleInput.value || '').trim();
            const text = (catCommandsInput.value || '').trim();
            if(!title || !text){
                alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –∫–æ–º–∞–Ω–¥—ã.');
                return;
            }
            // parse lines
            const lines = text.split(/\r?\n/).map(l => l.trim()).filter(Boolean);
            const cmds = lines.map(line => {
                // formats: "/cmd - desc" or "/cmd|desc" or just "/cmd"
                let parts = line.split(/\s*-\s*/);
                if(parts.length === 1) parts = line.split(/\s*\|\s*/);
                const command = parts[0].trim();
                const desc = (parts[1] || '').trim() || '';
                return { command, desc };
            });
            commandsData.push({ title, commands: cmds });
            saveCommands(commandsData);
            catTitleInput.value = '';
            catCommandsInput.value = '';
            // show newly added
            renderSlider(commandsData.length - 1);
            // scroll to commands section on small screens
            document.querySelector('#commands').scrollIntoView({behavior:'smooth'});
        });

        /* ====== API –°—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–µ—Ä–∞ ====== */
        const onlineEl = document.getElementById('online-players');
        const maxEl = document.getElementById('max-players');
        const versionEl = document.getElementById('server-version');
        const statusEl = document.getElementById('server-status');
        const updatedEl = document.getElementById('last-updated');

        async function fetchFromMcstatus(address){
            try{
                const res = await fetch(`https://api.mcstatus.io/v2/status/java/${address}`);
                if(!res.ok) throw new Error('mcstatus status ' + res.status);
                const data = await res.json();
                return {
                    api: 'mcstatus.io',
                    online: !!data.online,
                    players: data.players?.online ?? 0,
                    max: data.players?.max ?? 0,
                    version: (data.version && (data.version.name_clean || data.version.name)) || (data.version?.name_raw) || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'
                };
            }catch(e){ console.warn('mcstatus failed', e); return null; }
        }

        async function fetchFromMcsrvstat(address){
            try{
                const res = await fetch(`https://api.mcsrvstat.us/3/${address}`, { headers: { 'User-Agent': 'YourStopWebsite/1.0' }});
                if(!res.ok) throw new Error('mcsrvstat status ' + res.status);
                const data = await res.json();
                return {
                    api: 'mcsrvstat.us',
                    online: !!data.online,
                    players: data.players?.online ?? (data.players && Array.isArray(data.players) ? data.players.length : 0),
                    max: data.players?.max ?? 0,
                    version: data.version ?? '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'
                };
            }catch(e){ console.warn('mcsrvstat failed', e); return null; }
        }

        let lastFetchAbort = null;
        async function fetchServerStatus(){
            // show loading
            onlineEl.innerHTML = '<span class="loading">–ó–∞–≥—Ä—É–∑–∫–∞...</span>';
            maxEl.innerHTML = '<span class="loading">–ó–∞–≥—Ä—É–∑–∫–∞...</span>';
            versionEl.innerHTML = '<span class="loading">–ó–∞–≥—Ä—É–∑–∫–∞...</span>';
            statusEl.innerHTML = '<span class="loading">–ó–∞–≥—Ä—É–∑–∫–∞...</span>';

            // try primary
            const primary = await fetchFromMcstatus(SERVER_ADDRESS);
            if(primary){
                updateServerUI(primary);
                return primary;
            }
            // fallback
            const second = await fetchFromMcsrvstat(SERVER_ADDRESS);
            if(second){
                updateServerUI(second);
                return second;
            }
            // both failed
            onlineEl.textContent = '–û—à–∏–±–∫–∞';
            maxEl.textContent = '–û—à–∏–±–∫–∞';
            versionEl.textContent = '–û—à–∏–±–∫–∞';
            statusEl.innerHTML = '<span class="status-offline">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</span>';
            updatedEl.innerHTML = `–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ <button class="refresh-btn" id="refresh-btn">–û–±–Ω–æ–≤–∏—Ç—å</button>`;
            document.getElementById('refresh-btn').addEventListener('click', manualRefresh);
            return null;
        }

        function updateServerUI(status){
            onlineEl.textContent = status.players;
            maxEl.textContent = status.max;
            versionEl.textContent = status.version;
            statusEl.innerHTML = status.online ? '<span class="status-online">‚óè –û–Ω–ª–∞–π–Ω</span>' : '<span class="status-offline">‚óè –û—Ñ–ª–∞–π–Ω</span>';
            const time = new Date().toLocaleTimeString();
            updatedEl.innerHTML = `–û–±–Ω–æ–≤–ª–µ–Ω–æ: ${time} (—á–µ—Ä–µ–∑ ${status.api}) <button class="refresh-btn" id="refresh-btn">–û–±–Ω–æ–≤–∏—Ç—å</button>`;
            document.getElementById('refresh-btn').addEventListener('click', manualRefresh);
        }

        function manualRefresh(){ fetchServerStatus(); }

        /* ====== Copy IP buttons ====== */
        function setupCopy(buttonId, notifId, text='yourstop.online'){
            const btn = document.getElementById(buttonId);
            const notif = document.getElementById(notifId);
            btn.addEventListener('click', async ()=> {
                try{
                    await navigator.clipboard.writeText(text);
                    notif.classList.add('show');
                    setTimeout(()=>notif.classList.remove('show'),2000);
                }catch(e){
                    // fallback
                    const ta = document.createElement('textarea');
                    ta.value = text; document.body.appendChild(ta); ta.select();
                    document.execCommand('copy'); document.body.removeChild(ta);
                    notif.classList.add('show');
                    setTimeout(()=>notif.classList.remove('show'),2000);
                }
            });
        }

        /* ====== Mobile menu & smooth scroll ====== */
        document.querySelector('.mobile-menu').addEventListener('click', function(){ const nav = document.querySelector('header nav'); nav.classList.toggle('active'); });
        document.querySelectorAll('a[href^="#"]').forEach(a=>{
            a.addEventListener('click', function(e){ e.preventDefault(); const target = document.querySelector(this.getAttribute('href')); if(target) window.scrollTo({top: target.offsetTop - 70, behavior:'smooth'}); if(window.innerWidth<=768) document.querySelector('header nav').classList.remove('active'); });
        });

        /* ====== Init ====== */
        function init(){
            renderSlider(0);
            // initial server fetch and schedule loop
            fetchServerStatus();
            setInterval(fetchServerStatus, REFRESH_INTERVAL);
            // copy buttons
            setupCopy('copy-button-main','copy-notif-main','yourstop.online');
            // attach manual refresh
            document.getElementById('refresh-btn').addEventListener('click', manualRefresh);
            // window resize -> recompute slider
            window.addEventListener('resize', updateSlider);
            // prevent text selection on slider buttons touch
            prevBtn.addEventListener('touchstart', (e)=>e.preventDefault());
            nextBtn.addEventListener('touchstart', (e)=>e.preventDefault());
        }

        // render on load
        document.addEventListener('DOMContentLoaded', init);

        // Expose helper to re-render after changes
        window.saveAndRender = function(){
            saveCommands(commandsData);
            renderSlider(currentIndex);
        };

        // When page becomes hidden/visible, consider update
        document.addEventListener('visibilitychange', () => { if(!document.hidden) fetchServerStatus(); });

    })();
    </script>
</body>
</html>
